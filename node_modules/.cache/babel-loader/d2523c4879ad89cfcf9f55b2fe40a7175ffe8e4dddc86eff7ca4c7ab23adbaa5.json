{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/\\xC1rea de Trabalho/trivia-redux/sd-029-b-project-trivia-react-redux/src/pages/Game.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport { fetchImage, fetchQuestions } from '../services';\nimport { actionSetScore } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst sortNumber = 0.5;\nclass Game extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      questions: [],\n      correctAnswer: '',\n      currentQuestion: '',\n      currentAnswers: [],\n      currentCategory: '',\n      currentIndex: 0,\n      currentDifficulty: '',\n      result: false,\n      isCorrect: false,\n      correctColor: '3px solid',\n      wrongColor: '3px solid',\n      timer: 30,\n      // endTimer: false,\n      isRunning: true\n    };\n    this.getQuestions = async () => {\n      const {\n        history,\n        settings\n      } = this.props;\n      const token = localStorage.getItem('token');\n      const LOGOUT_CODE = 3;\n      const questions = await fetchQuestions(token, settings);\n      console.log(questions);\n      if (questions.response_code === LOGOUT_CODE) {\n        localStorage.removeItem('token');\n        history.push('/');\n        return;\n      }\n      const answers = [...questions.results[0].incorrect_answers, questions.results[0].correct_answer];\n      this.setState({\n        questions: questions.results,\n        correctAnswer: questions.results[0].correct_answer,\n        currentAnswers: answers.sort(() => Math.random() - sortNumber),\n        currentQuestion: questions.results[0].question,\n        currentCategory: questions.results[0].category,\n        currentDifficulty: questions.results[0].difficulty\n      });\n    };\n    this.handleAnswers = item => {\n      const {\n        correctAnswer\n      } = this.state;\n      this.setState({\n        result: true,\n        isCorrect: item === correctAnswer,\n        correctColor: '3px solid rgb(6, 240, 15)',\n        wrongColor: '3px solid red',\n        isRunning: false\n        // timer: 0,\n      }, this.handleScore);\n    };\n    this.handleScore = () => {\n      const {\n        currentDifficulty,\n        isCorrect,\n        timer\n      } = this.state;\n      const {\n        dispatch\n      } = this.props;\n      if (isCorrect) {\n        let difficultyScore = 0;\n        const hardScore = 3;\n        if (currentDifficulty === 'hard') {\n          difficultyScore = hardScore;\n        }\n        if (currentDifficulty === 'medium') {\n          difficultyScore = 2;\n        }\n        if (currentDifficulty === 'easy') {\n          difficultyScore = 1;\n        }\n        const initialScore = 10;\n        const score = initialScore + timer * difficultyScore;\n        dispatch(actionSetScore(score));\n      }\n    };\n    this.handleTimer = () => {\n      const {\n        timer,\n        isRunning\n      } = this.state;\n      if (timer === 0 || !isRunning) {\n        clearInterval(this.timerId);\n      } else {\n        this.setState(prevState => ({\n          timer: prevState.timer - 1\n        }));\n      }\n    };\n    this.handleNext = () => {\n      const {\n        currentIndex,\n        questions\n      } = this.state;\n      const {\n        history,\n        name,\n        email,\n        score\n      } = this.props;\n      const nextIndex = currentIndex + 1;\n      const SET_INTERVAL = 1000;\n      if (nextIndex < questions.length) {\n        const answers = [...questions[nextIndex].incorrect_answers, questions[nextIndex].correct_answer];\n        this.setState({\n          correctAnswer: questions[nextIndex].correct_answer,\n          currentAnswers: answers.sort(() => Math.random() - sortNumber),\n          currentQuestion: questions[nextIndex].question,\n          currentCategory: questions[nextIndex].category,\n          currentDifficulty: questions[nextIndex].difficulty,\n          currentIndex: nextIndex,\n          timer: 30,\n          correctColor: '3px solid',\n          wrongColor: '3px solid',\n          isRunning: true,\n          result: false,\n          isCorrect: false\n          // endTimer: false,\n        }, () => {\n          this.timerId = setInterval(() => this.handleTimer(), SET_INTERVAL);\n        });\n      }\n      if (nextIndex === questions.length) {\n        history.push('/feedback');\n        const ranking = JSON.parse(localStorage.getItem('ranking'));\n        const newRanking = [...ranking, {\n          name,\n          image: fetchImage(email),\n          score\n        }];\n        localStorage.setItem('ranking', JSON.stringify(newRanking));\n      }\n    };\n  }\n  componentDidMount() {\n    const SET_INTERVAL = 1000;\n    this.getQuestions();\n    this.timerId = setInterval(() => this.handleTimer(), SET_INTERVAL);\n    if (!JSON.parse(localStorage.getItem('ranking'))) {\n      localStorage.setItem('ranking', JSON.stringify([]));\n    }\n  }\n  componentDidUpdate() {\n    const {\n      timer,\n      result\n    } = this.state;\n    if (timer === 0 && result === false) {\n      this.setState({\n        result: true,\n        // endTimer: true,\n        correctColor: '3px solid rgb(6, 240, 15)',\n        wrongColor: '3px solid red'\n      });\n    }\n  }\n  render() {\n    const {\n      currentAnswers,\n      currentQuestion,\n      currentCategory,\n      // isCorrect,\n      result,\n      correctAnswer,\n      questions,\n      correctColor,\n      wrongColor,\n      timer\n      // endTimer\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), questions.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"timer\",\n        children: timer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          \"data-testid\": \"question-category\",\n          children: currentCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          dangerouslySetInnerHTML: {\n            __html: currentQuestion\n          },\n          \"data-testid\": \"question-text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          \"data-testid\": \"answer-options\",\n          children: currentAnswers\n          // .sort(() => Math.random() - sortNumber)\n          .map((item, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            dangerouslySetInnerHTML: {\n              __html: item\n            },\n            disabled: result,\n            \"data-testid\": item === correctAnswer ? 'correct-answer' : `wrong-answer-${index}`,\n            \"aria-label\": item,\n            style: {\n              border: item === correctAnswer ? correctColor : wrongColor\n            },\n            onClick: () => this.handleAnswers(item)\n          }, item, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), result && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: this.handleNext,\n          \"data-testid\": \"btn-next\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this);\n  }\n}\nGame.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  score: PropTypes.number.isRequired,\n  settings: PropTypes.shape({\n    number: PropTypes.string,\n    category: PropTypes.string,\n    difficulty: PropTypes.string,\n    type: PropTypes.string\n  }).isRequired\n};\nconst mapStateToProps = state => ({\n  name: state.player.name,\n  email: state.player.gravatarEmail,\n  score: state.player.score,\n  settings: state.player.settings\n});\nexport default connect(mapStateToProps)(Game);","map":{"version":3,"names":["React","Component","PropTypes","connect","Header","fetchImage","fetchQuestions","actionSetScore","sortNumber","Game","state","questions","correctAnswer","currentQuestion","currentAnswers","currentCategory","currentIndex","currentDifficulty","result","isCorrect","correctColor","wrongColor","timer","isRunning","getQuestions","history","settings","props","token","localStorage","getItem","LOGOUT_CODE","console","log","response_code","removeItem","push","answers","results","incorrect_answers","correct_answer","setState","sort","Math","random","question","category","difficulty","handleAnswers","item","handleScore","dispatch","difficultyScore","hardScore","initialScore","score","handleTimer","clearInterval","timerId","prevState","handleNext","name","email","nextIndex","SET_INTERVAL","length","setInterval","ranking","JSON","parse","newRanking","image","setItem","stringify","componentDidMount","componentDidUpdate","render","__html","map","index","border","propTypes","shape","func","isRequired","string","number","type","mapStateToProps","player","gravatarEmail"],"sources":["/home/guilherme/Área de Trabalho/trivia-redux/sd-029-b-project-trivia-react-redux/src/pages/Game.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport { fetchImage, fetchQuestions } from '../services';\nimport { actionSetScore } from '../redux/actions';\n\nconst sortNumber = 0.5;\n\nclass Game extends Component {\n  state = {\n    questions: [],\n    correctAnswer: '',\n    currentQuestion: '',\n    currentAnswers: [],\n    currentCategory: '',\n    currentIndex: 0,\n    currentDifficulty: '',\n    result: false,\n    isCorrect: false,\n    correctColor: '3px solid',\n    wrongColor: '3px solid',\n    timer: 30,\n    // endTimer: false,\n    isRunning: true,\n  };\n\n  componentDidMount() {\n    const SET_INTERVAL = 1000;\n    this.getQuestions();\n    this.timerId = setInterval(() => this.handleTimer(), SET_INTERVAL);\n    if (!JSON.parse(localStorage.getItem('ranking'))) {\n      localStorage.setItem('ranking', JSON.stringify([]));\n    }\n  }\n\n  componentDidUpdate() {\n    const { timer, result } = this.state;\n    if (timer === 0 && result === false) {\n      this.setState({\n        result: true,\n        // endTimer: true,\n        correctColor: '3px solid rgb(6, 240, 15)',\n        wrongColor: '3px solid red',\n      });\n    }\n  }\n\n  getQuestions = async () => {\n    const { history, settings } = this.props;\n    const token = localStorage.getItem('token');\n    const LOGOUT_CODE = 3;\n    const questions = await fetchQuestions(token, settings);\n    console.log(questions);\n    if (questions.response_code === LOGOUT_CODE) {\n      localStorage.removeItem('token');\n      history.push('/');\n      return;\n    }\n    const answers = [...questions.results[0].incorrect_answers,\n      questions.results[0].correct_answer];\n    this.setState({\n      questions: questions.results,\n      correctAnswer: questions.results[0].correct_answer,\n      currentAnswers: answers.sort(() => Math.random() - sortNumber),\n      currentQuestion: questions.results[0].question,\n      currentCategory: questions.results[0].category,\n      currentDifficulty: questions.results[0].difficulty,\n    });\n  };\n\n  handleAnswers = (item) => {\n    const { correctAnswer } = this.state;\n    this.setState({\n      result: true,\n      isCorrect: item === correctAnswer,\n      correctColor: '3px solid rgb(6, 240, 15)',\n      wrongColor: '3px solid red',\n      isRunning: false,\n      // timer: 0,\n    }, this.handleScore);\n  };\n\n  handleScore = () => {\n    const { currentDifficulty, isCorrect, timer } = this.state;\n    const { dispatch } = this.props;\n    if (isCorrect) {\n      let difficultyScore = 0;\n      const hardScore = 3;\n      if (currentDifficulty === 'hard') {\n        difficultyScore = hardScore;\n      }\n      if (currentDifficulty === 'medium') {\n        difficultyScore = 2;\n      }\n      if (currentDifficulty === 'easy') {\n        difficultyScore = 1;\n      }\n      const initialScore = 10;\n      const score = initialScore + (timer * difficultyScore);\n      dispatch(actionSetScore(score));\n    }\n  };\n\n  handleTimer = () => {\n    const { timer, isRunning } = this.state;\n    if (timer === 0 || !isRunning) {\n      clearInterval(this.timerId);\n    } else {\n      this.setState((prevState) => ({\n        timer: prevState.timer - 1,\n      }));\n    }\n  };\n\n  handleNext = () => {\n    const { currentIndex, questions } = this.state;\n    const { history, name, email, score } = this.props;\n    const nextIndex = currentIndex + 1;\n    const SET_INTERVAL = 1000;\n    if (nextIndex < questions.length) {\n      const answers = [...questions[nextIndex].incorrect_answers,\n        questions[nextIndex].correct_answer];\n      this.setState({\n        correctAnswer: questions[nextIndex].correct_answer,\n        currentAnswers: answers.sort(() => Math.random() - sortNumber),\n        currentQuestion: questions[nextIndex].question,\n        currentCategory: questions[nextIndex].category,\n        currentDifficulty: questions[nextIndex].difficulty,\n        currentIndex: nextIndex,\n        timer: 30,\n        correctColor: '3px solid',\n        wrongColor: '3px solid',\n        isRunning: true,\n        result: false,\n        isCorrect: false,\n        // endTimer: false,\n      }, () => {\n        this.timerId = setInterval(() => this.handleTimer(), SET_INTERVAL);\n      });\n    }\n    if (nextIndex === questions.length) {\n      history.push('/feedback');\n      const ranking = JSON.parse(localStorage.getItem('ranking'));\n      const newRanking = [...ranking, {\n        name,\n        image: fetchImage(email),\n        score,\n      }];\n      localStorage.setItem('ranking', JSON.stringify(newRanking));\n    }\n  };\n\n  render() {\n    const { currentAnswers,\n      currentQuestion,\n      currentCategory,\n      // isCorrect,\n      result,\n      correctAnswer,\n      questions,\n      correctColor,\n      wrongColor,\n      timer,\n      // endTimer\n    } = this.state;\n    return (\n      <div>\n        <Header />\n        {questions.length > 0 && (\n          <p data-testid=\"timer\">{timer}</p>\n        )}\n        <section>\n          <h3\n            data-testid=\"question-category\"\n          >\n            {currentCategory}\n\n          </h3>\n          <p\n            dangerouslySetInnerHTML={ { __html: currentQuestion } }\n            data-testid=\"question-text\"\n          />\n          <section data-testid=\"answer-options\">\n            {currentAnswers\n              // .sort(() => Math.random() - sortNumber)\n              .map((item, index) => (\n                <button\n                  key={ item }\n                  type=\"button\"\n                  dangerouslySetInnerHTML={ { __html: item } }\n                  disabled={ result }\n                  data-testid={\n                    item === correctAnswer ? 'correct-answer' : `wrong-answer-${index}`\n                  }\n                  aria-label={ item }\n                  style={ {\n                    border: item === correctAnswer ? correctColor : wrongColor } }\n                  onClick={ () => this.handleAnswers(item) }\n                />\n              ))}\n          </section>\n          {result && (\n            <button\n              type=\"button\"\n              onClick={ this.handleNext }\n              data-testid=\"btn-next\"\n            >\n              Next\n\n            </button>\n          )}\n        </section>\n      </div>\n    );\n  }\n}\n\nGame.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  dispatch: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  score: PropTypes.number.isRequired,\n  settings: PropTypes.shape({\n    number: PropTypes.string,\n    category: PropTypes.string,\n    difficulty: PropTypes.string,\n    type: PropTypes.string,\n  }).isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  name: state.player.name,\n  email: state.player.gravatarEmail,\n  score: state.player.score,\n  settings: state.player.settings,\n});\nexport default connect(mapStateToProps)(Game);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}