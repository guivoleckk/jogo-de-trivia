{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/\\xC1rea de Trabalho/trivia-redux/sd-029-b-project-trivia-react-redux/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchToken } from '../services';\nimport { actionGetUser } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loginName: '',\n      loginEmail: '',\n      isDisabled: true,\n      displaySettings: false\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.verifyLogin);\n    };\n    this.verifyLogin = () => {\n      const {\n        loginName,\n        loginEmail\n      } = this.state;\n      if (loginName !== '' && loginEmail !== '') {\n        this.setState({\n          isDisabled: false\n        });\n      } else {\n        this.setState({\n          isDisabled: true\n        });\n      }\n    };\n    this.handlePlay = async () => {\n      const {\n        loginName,\n        loginEmail\n      } = this.state;\n      const {\n        history,\n        dispatch\n      } = this.props;\n      const data = await fetchToken();\n      localStorage.setItem('token', data.token);\n      const user = {\n        name: loginName,\n        email: loginEmail\n      };\n      dispatch(actionGetUser(user));\n      history.push('/game');\n    };\n    this.handleSettings = () => {\n      const {\n        displaySettings\n      } = this.state;\n      if (!displaySettings) {\n        this.setState({\n          displaySettings: true\n        });\n      } else {\n        this.setState({\n          displaySettings: false\n        });\n      }\n    };\n  }\n  render() {\n    const {\n      loginName,\n      loginEmail,\n      isDisabled,\n      displaySettings\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nome:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: loginName,\n            name: \"loginName\",\n            onChange: this.handleChange,\n            \"data-testid\": \"input-player-name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: loginEmail,\n            name: \"loginEmail\",\n            onChange: this.handleChange,\n            \"data-testid\": \"input-gravatar-email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"btn-play\",\n          disabled: isDisabled,\n          onClick: this.handlePlay,\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: this.handleSettings,\n          \"data-testid\": \"btn-settings\",\n          children: \"Configura\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), displaySettings && /*#__PURE__*/_jsxDEV(\"section\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            \"data-testid\": \"settings-title\",\n            children: \"Configura\\xE7\\xF5es\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  dispatch: PropTypes.func.isRequired\n};\nexport default connect()(Login);","map":{"version":3,"names":["React","Component","PropTypes","connect","fetchToken","actionGetUser","Login","state","loginName","loginEmail","isDisabled","displaySettings","handleChange","target","name","value","setState","verifyLogin","handlePlay","history","dispatch","props","data","localStorage","setItem","token","user","email","push","handleSettings","render","propTypes","shape","func","isRequired"],"sources":["/home/guilherme/Área de Trabalho/trivia-redux/sd-029-b-project-trivia-react-redux/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchToken } from '../services';\nimport { actionGetUser } from '../redux/actions';\n\nclass Login extends Component {\n  state = {\n    loginName: '',\n    loginEmail: '',\n    isDisabled: true,\n    displaySettings: false,\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, this.verifyLogin);\n  };\n\n  verifyLogin = () => {\n    const { loginName, loginEmail } = this.state;\n    if (loginName !== '' && loginEmail !== '') {\n      this.setState({\n        isDisabled: false,\n      });\n    } else {\n      this.setState({\n        isDisabled: true,\n      });\n    }\n  };\n\n  handlePlay = async () => {\n    const { loginName, loginEmail } = this.state;\n    const { history, dispatch } = this.props;\n    const data = await fetchToken();\n    localStorage.setItem('token', data.token);\n    const user = {\n      name: loginName,\n      email: loginEmail,\n    };\n    dispatch(actionGetUser(user));\n    history.push('/game');\n  };\n\n  handleSettings = () => {\n    const { displaySettings } = this.state;\n    if (!displaySettings) {\n      this.setState({\n        displaySettings: true,\n      });\n    } else {\n      this.setState({\n        displaySettings: false,\n      });\n    }\n  };\n\n  render() {\n    const { loginName, loginEmail, isDisabled, displaySettings } = this.state;\n    return (\n      <div>\n        <form>\n          <label>\n            Nome:\n            <input\n              type=\"text\"\n              value={ loginName }\n              name=\"loginName\"\n              onChange={ this.handleChange }\n              data-testid=\"input-player-name\"\n            />\n          </label>\n          <label>\n            Email:\n            <input\n              type=\"email\"\n              value={ loginEmail }\n              name=\"loginEmail\"\n              onChange={ this.handleChange }\n              data-testid=\"input-gravatar-email\"\n            />\n          </label>\n          <button\n            type=\"button\"\n            data-testid=\"btn-play\"\n            disabled={ isDisabled }\n            onClick={ this.handlePlay }\n          >\n            Play\n\n          </button>\n          <button\n            type=\"button\"\n            onClick={ this.handleSettings }\n            data-testid=\"btn-settings\"\n          >\n            Configurações\n\n          </button>\n          {displaySettings && (\n            <section>\n              <h3 data-testid=\"settings-title\">Configurações</h3>\n            </section>\n          )}\n        </form>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect()(Login);\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,UAAU,QAAQ,aAAa;AACxC,SAASC,aAAa,QAAQ,kBAAkB;AAAC;AAEjD,MAAMC,KAAK,SAASL,SAAS,CAAC;EAAA;IAAA;IAAA,KAC5BM,KAAK,GAAG;MACNC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE,IAAI;MAChBC,eAAe,EAAE;IACnB,CAAC;IAAA,KAEDC,YAAY,GAAG,QAAgB;MAAA,IAAf;QAAEC;MAAO,CAAC;MACxB,MAAM;QAAEC,IAAI;QAAEC;MAAM,CAAC,GAAGF,MAAM;MAC9B,IAAI,CAACG,QAAQ,CAAC;QACZ,CAACF,IAAI,GAAGC;MACV,CAAC,EAAE,IAAI,CAACE,WAAW,CAAC;IACtB,CAAC;IAAA,KAEDA,WAAW,GAAG,MAAM;MAClB,MAAM;QAAET,SAAS;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACF,KAAK;MAC5C,IAAIC,SAAS,KAAK,EAAE,IAAIC,UAAU,KAAK,EAAE,EAAE;QACzC,IAAI,CAACO,QAAQ,CAAC;UACZN,UAAU,EAAE;QACd,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAI,CAACM,QAAQ,CAAC;UACZN,UAAU,EAAE;QACd,CAAC,CAAC;MACJ;IACF,CAAC;IAAA,KAEDQ,UAAU,GAAG,YAAY;MACvB,MAAM;QAAEV,SAAS;QAAEC;MAAW,CAAC,GAAG,IAAI,CAACF,KAAK;MAC5C,MAAM;QAAEY,OAAO;QAAEC;MAAS,CAAC,GAAG,IAAI,CAACC,KAAK;MACxC,MAAMC,IAAI,GAAG,MAAMlB,UAAU,EAAE;MAC/BmB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACG,KAAK,CAAC;MACzC,MAAMC,IAAI,GAAG;QACXZ,IAAI,EAAEN,SAAS;QACfmB,KAAK,EAAElB;MACT,CAAC;MACDW,QAAQ,CAACf,aAAa,CAACqB,IAAI,CAAC,CAAC;MAC7BP,OAAO,CAACS,IAAI,CAAC,OAAO,CAAC;IACvB,CAAC;IAAA,KAEDC,cAAc,GAAG,MAAM;MACrB,MAAM;QAAElB;MAAgB,CAAC,GAAG,IAAI,CAACJ,KAAK;MACtC,IAAI,CAACI,eAAe,EAAE;QACpB,IAAI,CAACK,QAAQ,CAAC;UACZL,eAAe,EAAE;QACnB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAI,CAACK,QAAQ,CAAC;UACZL,eAAe,EAAE;QACnB,CAAC,CAAC;MACJ;IACF,CAAC;EAAA;EAEDmB,MAAM,GAAG;IACP,MAAM;MAAEtB,SAAS;MAAEC,UAAU;MAAEC,UAAU;MAAEC;IAAgB,CAAC,GAAG,IAAI,CAACJ,KAAK;IACzE,oBACE;MAAA,uBACE;QAAA,wBACE;UAAA,WAAO,OAEL;YACE,IAAI,EAAC,MAAM;YACX,KAAK,EAAGC,SAAW;YACnB,IAAI,EAAC,WAAW;YAChB,QAAQ,EAAG,IAAI,CAACI,YAAc;YAC9B,eAAY;UAAmB;YAAA;YAAA;YAAA;UAAA,QAC/B;QAAA;UAAA;UAAA;UAAA;QAAA,QACI,eACR;UAAA,WAAO,QAEL;YACE,IAAI,EAAC,OAAO;YACZ,KAAK,EAAGH,UAAY;YACpB,IAAI,EAAC,YAAY;YACjB,QAAQ,EAAG,IAAI,CAACG,YAAc;YAC9B,eAAY;UAAsB;YAAA;YAAA;YAAA;UAAA,QAClC;QAAA;UAAA;UAAA;UAAA;QAAA,QACI,eACR;UACE,IAAI,EAAC,QAAQ;UACb,eAAY,UAAU;UACtB,QAAQ,EAAGF,UAAY;UACvB,OAAO,EAAG,IAAI,CAACQ,UAAY;UAAA,UAC5B;QAGD;UAAA;UAAA;UAAA;QAAA,QAAS,eACT;UACE,IAAI,EAAC,QAAQ;UACb,OAAO,EAAG,IAAI,CAACW,cAAgB;UAC/B,eAAY,cAAc;UAAA,UAC3B;QAGD;UAAA;UAAA;UAAA;QAAA,QAAS,EACRlB,eAAe,iBACd;UAAA,uBACE;YAAI,eAAY,gBAAgB;YAAA,UAAC;UAAa;YAAA;YAAA;YAAA;UAAA;QAAK;UAAA;UAAA;UAAA;QAAA,QAEtD;MAAA;QAAA;QAAA;QAAA;MAAA;IACI;MAAA;MAAA;MAAA;IAAA,QACH;EAEV;AACF;AAEAL,KAAK,CAACyB,SAAS,GAAG;EAChBZ,OAAO,EAAEjB,SAAS,CAAC8B,KAAK,CAAC;IACvBJ,IAAI,EAAE1B,SAAS,CAAC+B,IAAI,CAACC;EACvB,CAAC,CAAC,CAACA,UAAU;EACbd,QAAQ,EAAElB,SAAS,CAAC+B,IAAI,CAACC;AAC3B,CAAC;AAED,eAAe/B,OAAO,EAAE,CAACG,KAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}